<?php
/**
 * Created by Labiod.
 * User: admin
 * Date: 09/04/2015
 * Time: 21:42
 */

/**
 * @var Queue $queue
 */
$queue = $this->mQueue;
?>
<div id="log_div">
    <style>
        div#log_div {
            font-size: 1.1em;
        }

        div#log_content {
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 1);
            bottom: 0;
            position: fixed;
        }
        div#log_resize_div {
            height: 3px;
            background: #3b3b3b;
        }
        div#log_menu {
            position: relative;
            height: 20px;
            padding: 2px;
            background: #4782AC;
        }
        a#log_hide {
            position: absolute;
            right: 6px;
            display: block;
            text-decoration: none;
            width: 20px;
            height: 20px;
            background-image: url("/public/images/x_close.png");
        }

        a#log_minimise {
            position: absolute;
            right: 32px;
            display: block;
            text-decoration: none;
            width: 20px;
            height: 20px;
            background-image: url("/public/images/minimise.png");
        }
        div#log_mini_content {
            width: 22px;
            height: 22px;
            display: none;
            position: fixed;
            bottom: 0;
            right: 0;
            cursor: pointer;
            background: #4782AC url("/public/images/log_show.png");
        }

        div#scroll_content {
            padding: 5px 2px;
            height: 100px;
            overflow-y: scroll;
        }

        div.log_debug {
            color: #0000ff;
        }
        div.log_info {
            color: #00ff00;
        }
        div.log_error {
            color: #ff0000;
        }
    </style>
    <script type="text/javascript">
        var resizeVal = false;
        var prevY = -1;
        $(document).ready(function() {
            $("a#log_hide").click(function() {
                $("div#log_div").remove();
                return false;
            });
            $("a#log_minimise").click(function() {
                $("div#log_content").hide();
                $("div#log_mini_content").show();
                return false;
            });

            $("div#log_mini_content").click(function() {
                $("div#log_content").show();
                $("div#log_mini_content").hide();
                return false;
            });
        })
    </script>
    <div id="log_content">
        <div id="log_resize_div">&nbsp;</div>
        <div id="log_menu">
            <a id="log_minimise" href="#" >&nbsp;</a>
            <a id="log_hide" href="#" >&nbsp;</a>
        </div>
        <div id="scroll_content">
            <?php
            /**
             * @var LogMsg $item
             */
            foreach($queue as $item) {
                echo $item->getMessage();
            }
            ?>
        </div>

    </div>
    <div id="log_mini_content">&nbsp;</div>
</div>
